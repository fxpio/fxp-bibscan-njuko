(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bib-labels"],{"8abe":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fill-height"},[i("transition",{attrs:{name:"fade",mode:"out-in"},on:{"after-enter":t.onAfterEnter}},[t.loading?i("loading"):i("v-container",[i("v-row",{attrs:{"no-gutters":"",justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6",xl:"4"}},[i("v-card",{attrs:{flat:""}},[i("v-card-title",{attrs:{"primary-title":""}},[i("div",{staticClass:"headline primary--text"},[t._v(" "+t._s(t.$t("views.bib-labels-print-one.title"))+" ")])]),i("v-card-text",{staticClass:"pb-0"},[i("v-form",{ref:"form",on:{submit:function(t){t.preventDefault()}}},[i("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"number",label:t.$i18n.t("views.bib-labels-print.bib-number"),"data-vv-name":"searchBibNumber","data-vv-as":t.$i18n.t("views.bib-labels-print.bib-number"),"error-messages":t.errors.collect("searchBibNumber"),outlined:"",clearable:"",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.search(e))}},model:{value:t.searchBibNumber,callback:function(e){t.searchBibNumber=e},expression:"searchBibNumber"}}),i("v-switch",{attrs:{label:t.$t("views.settings.start-printing-immediately")},model:{value:t.startPrintingImmediately,callback:function(e){t.startPrintingImmediately=e},expression:"startPrintingImmediately"}})],1)],1),i("v-card-actions",[t.$store.state.scanner.enabled?i("v-tooltip",{staticClass:"v-btn v-btn--block",attrs:{top:"",eager:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{depressed:"",ripple:"",dark:"",color:"blue-grey"},on:{click:function(e){return t.$store.commit("scanner/open")}}},n),[i("v-icon",[t._v("fas fa-qrcode")])],1)]}}],null,!1,4202981651)},[i("span",[t._v(t._s(t.$t("scanner.scan-bib-withdrawal-card")))])]):t._e(),i("v-btn",{staticClass:"flex-grow-1",attrs:{depressed:"",ripple:"",color:"accent"},on:{click:t.search}},[i("v-icon",[t._v("search")])],1),i("v-btn",{staticClass:"flex-grow-1",attrs:{depressed:"",ripple:"",color:"success",disabled:!t.isPrintable},on:{click:t.print}},[i("v-icon",[t._v("print")])],1)],1)],1),t.bibResult?i("div",{class:t.bibWrapperClasses},[i("bib-label",{key:t.bibResult.bibNumber,attrs:{distance:t.bibResult.distance,unit:t.bibResult.unit,firstName:t.bibResult.firstName,bibNumber:t.bibResult.bibNumber,phoneUrgency:t.bibResult.phoneUrgency,startBirthDate:t.bibResult.startBirthDate,endBirthDate:t.bibResult.endBirthDate}})],1):!1===t.bibResult?i("error-message",{attrs:{"icon-size":"12em",icon:t.previousError?"error":"search","icon-color":t.previousError?"red":"info",message:t.previousError?t.previousError.message:t.$t("views.bib-labels-print.bib-not-found")}}):t._e()],1)],1)],1)],1)],1)},r=[],s=i("a34a"),a=i.n(s),o=i("9ab4"),l=i("4ce7"),c=i("3b4e"),u=i("8e27"),b=i("3a5e"),h=i("e1d4"),p=i("9419"),d=i("6b54"),f=i("2fe1"),v=i("60a3");function m(t){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function y(t){return k(t)||w(t)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function k(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function C(t,e,i,n,r,s,a){try{var o=t[s](a),l=o.value}catch(c){return void i(c)}o.done?e(l):Promise.resolve(l).then(n,r)}function S(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function a(t){C(s,n,r,a,o,"next",t)}function o(t){C(s,n,r,a,o,"throw",t)}a(void 0)}))}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $(t,e,i){return e&&x(t.prototype,e),i&&x(t,i),t}function V(t,e){return!e||"object"!==m(e)&&"function"!==typeof e?O(t):e}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function P(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}function N(t,e){return N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},N(t,e)}var B=function(t){function e(){var t;return _(this,e),t=V(this,j(e).apply(this,arguments)),t.bibResult=null,t.searchBibNumber="",t.launchPrint=!1,t}return P(e,t),$(e,[{key:"metaInfo",value:function(){return{title:this.$t("views.bib-labels-print-one.title")}}},{key:"beforeMount",value:function(){var t=S(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.bibResult=this.createMockBib(),this.$root.$on("scanner-decode",this.onDecode);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"destroyed",value:function(){this.$root.$off("scanner-decode",this.onDecode)}},{key:"search",value:function(){var t=S(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.doSearch({bibNumber:this.searchBibNumber});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"doSearch",value:function(){var t=S(a.a.mark((function t(e){var i,n=this;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,this.launchPrint=!1,this.bibResult=!1,t.next=5,this.fetchData((function(t){return n.$api.get(l["a"]).list({itemsPerPage:1,search:e},t)}),!0);case 5:if(i=t.sent,!(i&&i.resultsSize>0&&i.results[0].bib)){t.next=11;break}return t.next=9,this.convertRegistrationToBib(i.results[0]);case 9:this.bibResult=t.sent,this.searchBibNumber!==this.bibResult.bibNumber&&(this.searchBibNumber=this.bibResult.bibNumber);case 11:this.loading=!1,this.startPrintingImmediately&&(this.launchPrint=!0);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"print",value:function(){this.isPrintable&&this.printer.print(y(document.querySelectorAll(".bib-label-wrapper .bib-label").values()))}},{key:"onAfterEnter",value:function(){this.launchPrint&&(this.launchPrint=!1,this.print())}},{key:"onDecode",value:function(){var t=S(a.a.mark((function t(e){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.doSearch({id:Number(e)});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"startPrintingImmediately",get:function(){return this.$store.state.bib.startPrintingImmediately},set:function(t){this.$store.commit("bib/toggleStartPrintingImmediately",t)}},{key:"isPrintable",get:function(){return!!this.bibResult&&-1!==this.bibResult.registrationId}},{key:"bibWrapperClasses",get:function(){return{"bib-label-wrapper":!0," mt-3":!0,hidden:!this.isPrintable}}}]),e}(Object(f["c"])(h["a"],p["a"],d["a"]));B=Object(o["a"])([Object(v["a"])({components:{ErrorMessage:u["a"],Loading:b["a"],BibLabel:c["a"]}})],B);var E=B,A=E,R=i("2877"),D=i("6544"),T=i.n(D),I=i("8336"),L=i("b0af"),F=i("99d9"),q=i("62ad"),M=i("a523"),z=i("4bd4"),U=i("132d"),W=i("0fd9"),K=i("b73d"),J=i("8654"),G=i("3a2f"),H=Object(R["a"])(A,n,r,!1,null,null,null);e["default"]=H.exports;T()(H,{VBtn:I["a"],VCard:L["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:q["a"],VContainer:M["a"],VForm:z["a"],VIcon:U["a"],VRow:W["a"],VSwitch:K["a"],VTextField:J["a"],VTooltip:G["a"]})},9831:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fill-height"},[i("v-fab-transition",[t.$store.state.registration.pending?t._e():i("v-btn",{key:"sync",attrs:{color:"accent",ripple:"",fab:"",fixed:"",bottom:"",right:""},on:{click:function(e){return e.preventDefault(),t.sync(e)}}},[i("v-icon",[t._v("sync")])],1)],1),i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.$store.state.registration.pending?i("sync-pending",{key:"pending"}):i("v-container",{key:"search"},[i("v-row",{attrs:{justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6",xl:"4"}},[i("v-card",{attrs:{flat:""}},[i("v-card-title",{attrs:{"primary-title":""}},[i("div",{staticClass:"headline primary--text"},[t._v(" "+t._s(t.$t("views.bib-labels-print-mass.title"))+" ")])]),i("v-card-text",{staticClass:"pb-0"},[i("v-form",{ref:"form",on:{submit:function(t){t.preventDefault()}}},[i("v-select",{attrs:{items:t.competitions,loading:0===t.competitions.length,"item-value":"id","item-text":"label",label:t.$t("forms.competitions.all"),"return-object":"",chips:"","single-line":"",clearable:"",outlined:""},scopedSlots:t._u([{key:"item",fn:function(e){return[t._v(t._s(e.item.label))]}}]),model:{value:t.selectedCompetition,callback:function(e){t.selectedCompetition=e},expression:"selectedCompetition"}}),i("v-select",{attrs:{items:t.registrationStatusItems,"item-value":"value","item-text":"label",label:t.$t("forms.registration-status.all"),"menu-props":{closeOnContentClick:!0},multiple:"",chips:"","deletable-chips":"","single-line":"",clearable:"",outlined:""},scopedSlots:t._u([{key:"item",fn:function(e){return[t._v(t._s(e.item.label))]}}]),model:{value:t.selectedRegistrationStatus,callback:function(e){t.selectedRegistrationStatus=e},expression:"selectedRegistrationStatus"}}),i("v-select",{attrs:{items:t.statusItems,"item-value":"value","item-text":"label",label:t.$t("forms.status.all"),"menu-props":{closeOnContentClick:!0},multiple:"",chips:"","deletable-chips":"","single-line":"",clearable:"",outlined:""},scopedSlots:t._u([{key:"item",fn:function(e){return[t._v(t._s(e.item.label))]}}]),model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}}),i("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{regex:/^[0-9,\- ]+$/},expression:"{regex: /^[0-9,\\- ]+$/}"}],attrs:{type:"text",readonly:t.building,label:t.$i18n.t("views.bib-labels-print-mass.bib-number-range"),hint:t.$i18n.t("views.bib-labels-print-mass.bib-number-range-description"),"data-vv-name":"bibNumbers","data-vv-as":t.$i18n.t("views.bib-labels-print-mass.bib-number-range"),"error-messages":t.errors.collect("bibNumbers"),outlined:"",clearable:"",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.search(e))}},model:{value:t.bibNumbers,callback:function(e){t.bibNumbers=e},expression:"bibNumbers"}})],1)],1),i("v-card-actions",{staticClass:"pl-3 pr-3"},[i("v-fade-transition",{attrs:{mode:"out-in"}},[i("v-btn",{attrs:{depressed:"",block:"",ripple:"",color:"accent",loading:t.building},on:{click:function(e){return e.preventDefault(),t.search(e)}}},[i("v-icon",[t._v("search")])],1)],1)],1)],1),i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isPrintable||null===t.bibs?t._e():i("error-message",{attrs:{"icon-size":"12em",icon:"error","icon-color":"info",message:t.$t("views.bib-labels-print.bib-not-found")}})],1)],1)],1)],1)],1),i("v-dialog",{ref:"printerDialog",attrs:{eager:"",fullscreen:"",dark:"",scrollable:"","content-class":"printer-dialog",transition:"dialog-bottom-transition","hide-overlay":""},model:{value:t.isPrintable,callback:function(e){t.isPrintable=e},expression:"isPrintable"}},[i("v-card",{staticClass:"printer-card",attrs:{shaped:""}},[i("v-toolbar",{attrs:{dark:"",flat:""}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return e.preventDefault(),t.reset(e)}}},[i("v-icon",[t._v("close")])],1),null!==t.bibs?i("v-toolbar-title",[t._v(" "+t._s(t.$tc("views.bib-labels-print-mass.print-labels",t.bibs.length))+" ")]):t._e(),i("v-spacer"),i("v-btn",{attrs:{depressed:"",ripple:"",icon:"",loading:t.building},on:{click:function(e){return e.preventDefault(),t.print(e)}}},[i("v-icon",[t._v("print")])],1)],1),i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-row",{attrs:{align:"start",justify:"center"}},[t.showBibLabels?i("div",{class:t.bibWrapperClasses},t._l(t.bibs,(function(t){return i("bib-label",{key:t.registrationId,attrs:{distance:t.distance,unit:t.unit,firstName:t.firstName,bibNumber:t.bibNumber,phoneUrgency:t.phoneUrgency,startBirthDate:t.startBirthDate,endBirthDate:t.endBirthDate}})})),1):t._e()])],1)],1)],1)],1)},r=[],s=i("a34a"),a=i.n(s),o=i("9ab4"),l=i("fb7b");function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,i){return e&&u(t.prototype,e),i&&u(t,i),t}var h=function(){function t(){c(this,t)}return b(t,null,[{key:"convertFilter",value:function(t){var e=String(t).split(",").map((function(t){return t.trim()})),i=[];return e.forEach((function(t){if(-1!==t.indexOf("-")){var e=t.split("-"),n=Number(e[0]),r=Number(e[e.length-1]);isNaN(n)||isNaN(r)||i.push(new l["a"](n,r))}else isNaN(Number(t))||i.push(Number(t))})),i}}]),t}(),p=i("3b4e"),d=i("8e27"),f=i("c1e6");function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m=function t(e,i){v(this,t),this.value=e,this.label=i};function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var g=function t(e,i){y(this,t),this.value=e,this.label=i},w=i("e1d4"),k=i("9419"),C=i("6b54"),S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{attrs:{justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6",xl:"4"}},[i("v-subheader",{staticClass:"primary--text"},[t._v(" "+t._s(t.$store.state.registration.job.edition.name)+" ")]),i("v-card",{attrs:{flat:""}},[i("v-card-title",{attrs:{"primary-title":""}},[i("div",{staticClass:"headline"},[t._v(" Synchronisation des inscriptions ")])]),i("v-card-text",[i("v-progress-linear",{attrs:{indeterminate:null===t.$store.state.registration.job.size,query:!0,color:"accent",height:"15"},model:{value:t.$store.state.registration.job.progression,callback:function(e){t.$set(t.$store.state.registration.job,"progression",e)},expression:"$store.state.registration.job.progression"}})],1),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{depressed:"",ripple:"",color:"error"},on:{click:function(e){return e.preventDefault(),t.$store.dispatch("registration/stop")}}},[t._v(" "+t._s(t.$t("stop"))+" ")])],1)],1)],1)],1)],1)},_=[],x=i("60a3");function $(t){return $="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){return!e||"object"!==$(e)&&"function"!==typeof e?j(t):e}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function N(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}function B(t,e){return B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},B(t,e)}var E=function(t){function e(){return V(this,e),O(this,P(e).apply(this,arguments))}return N(e,t),e}(x["e"]);E=Object(o["a"])([Object(x["a"])({components:{}})],E);var A=E,R=A,D=i("2877"),T=i("6544"),I=i.n(T),L=i("8336"),F=i("b0af"),q=i("99d9"),M=i("62ad"),z=i("a523"),U=i("8e36"),W=i("0fd9"),K=i("e0c7"),J=Object(D["a"])(R,S,_,!1,null,null,null),G=J.exports;I()(J,{VBtn:L["a"],VCard:F["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VCol:M["a"],VContainer:z["a"],VProgressLinear:U["a"],VRow:W["a"],VSubheader:K["a"]});var H=i("2fe1");function Q(t){return Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function X(t){return tt(t)||Z(t)||Y()}function Y(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Z(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function tt(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function et(t,e,i,n,r,s,a){try{var o=t[s](a),l=o.value}catch(c){return void i(c)}o.done?e(l):Promise.resolve(l).then(n,r)}function it(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function a(t){et(s,n,r,a,o,"next",t)}function o(t){et(s,n,r,a,o,"throw",t)}a(void 0)}))}}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function st(t,e,i){return e&&rt(t.prototype,e),i&&rt(t,i),t}function at(t,e){return!e||"object"!==Q(e)&&"function"!==typeof e?ot(t):e}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function ct(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}function ut(t,e){return ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ut(t,e)}var bt=function(t){function e(){var t;return nt(this,e),t=at(this,lt(e).apply(this,arguments)),t.bibNumbers=null,t.selectedCompetition=null,t.competitions=[],t.selectedRegistrationStatus=[],t.selectedStatus=[],t.bibs=null,t.building=!1,t.showBibLabels=!1,t}return ct(e,t),st(e,[{key:"beforeMount",value:function(){this.watchEditionCompetitions(this.$store.state.edition.currentCompetitions),this.stateUnwatch=this.$store.watch((function(t){return t.edition.currentCompetitions}),this.watchEditionCompetitions)}},{key:"mounted",value:function(){this.dialog=this.$refs.printerDialog.$refs.dialog}},{key:"destroyed",value:function(){this.stateUnwatch&&this.stateUnwatch(),this.dialog.removeEventListener("transitionend",this.delayShowBibLabels)}},{key:"watchIsPrintable",value:function(t){t?this.dialog.addEventListener("transitionend",this.delayShowBibLabels):(this.dialog.removeEventListener("transitionend",this.delayShowBibLabels),this.showBibLabels=!1)}},{key:"watchBibNumbers",value:function(){this.building?this.building=!1:this.reset()}},{key:"reset",value:function(){this.bibs=null}},{key:"sync",value:function(){var t=it(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("registration/sync",this.$store.state.edition.current);case 2:this.reset();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"search",value:function(){var t=it(a.a.mark((function t(){var e,i,n;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return this.building=!0,e=this.$store.state.edition.current.id,i=h.convertFilter(this.bibNumbers),t.next=9,this.$store.getters["registration/list"]({editionId:e,ranges:i,competitionIds:this.selectedCompetition?[this.selectedCompetition.id]:[],registrationStatus:this.selectedRegistrationStatus,status:this.selectedStatus});case 9:return n=t.sent,t.next=12,this.convertRegistrationsToBibs(n);case 12:this.bibs=t.sent,this.building=this.updateBibNumbers();case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"print",value:function(){var t=it(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.isPrintable&&this.printer.print(X(document.querySelectorAll(".bib-label-wrapper .bib-label").values()));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"delayShowBibLabels",value:function(){this.dialog.removeEventListener("transitionend",this.delayShowBibLabels),this.showBibLabels=!0}},{key:"updateBibNumbers",value:function(){return!this.bibNumbers&&null!==this.bibs&&this.bibs.length>0&&(this.bibNumbers=String(this.bibs[0].bibNumber),this.bibs.length>1&&(this.bibNumbers+="-"+this.bibs[this.bibs.length-1].bibNumber),!0)}},{key:"watchEditionCompetitions",value:function(t){if(t){this.competitions=[];for(var e=this.$store.state.participant.cacheSearchConfig?this.$store.state.participant.cacheSearchConfig.selectedCompetitions:[],i=0,n=Object.values(t);i<n.length;i++){var r=n[i],s=new f["a"](r.id,r.name);this.competitions.push(s),e.indexOf(r.id)>-1&&(this.selectedCompetition=s)}}}},{key:"isPrintable",get:function(){return null!==this.bibs&&this.bibs.length>0}},{key:"bibWrapperClasses",get:function(){return{"bib-label-wrapper":!0,hidden:!this.isPrintable}}},{key:"registrationStatusItems",get:function(){return[new m(!0,this.$t("views.participants.choices.registered.true")),new m(!1,this.$t("views.participants.choices.registered.false"))]}},{key:"statusItems",get:function(){return[new g(0,this.$t("views.participants.choices.status.0")),new g(1,this.$t("views.participants.choices.status.1")),new g(2,this.$t("views.participants.choices.status.2"))]}}]),e}(Object(H["c"])(w["a"],k["a"],C["a"]));Object(o["a"])([Object(x["f"])("isPrintable")],bt.prototype,"watchIsPrintable",null),Object(o["a"])([Object(x["f"])("bibNumbers",{immediate:!0})],bt.prototype,"watchBibNumbers",null),bt=Object(o["a"])([Object(x["a"])({components:{ErrorMessage:d["a"],BibLabel:p["a"],SyncPending:G}})],bt);var ht=bt,pt=ht,dt=i("169a"),ft=i("0789"),vt=i("4bd4"),mt=i("132d"),yt=i("b974"),gt=i("2fa4"),wt=i("8654"),kt=i("71d9"),Ct=i("2a7f"),St=Object(D["a"])(pt,n,r,!1,null,null,null);e["default"]=St.exports;I()(St,{VBtn:L["a"],VCard:F["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VCol:M["a"],VContainer:z["a"],VDialog:dt["a"],VFabTransition:ft["c"],VFadeTransition:ft["d"],VForm:vt["a"],VIcon:mt["a"],VRow:W["a"],VSelect:yt["a"],VSpacer:gt["a"],VTextField:wt["a"],VToolbar:kt["a"],VToolbarTitle:Ct["a"]})},"9d01":function(t,e,i){},b73d:function(t,e,i){"use strict";i("ec29"),i("9d01");var n=i("fe09"),r=i("c37a"),s=i("c3f0"),a=i("0789"),o=i("490a"),l=i("80d2");e["a"]=n["a"].extend({name:"v-switch",directives:{Touch:s["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...r["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.disabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...this.attrs$}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(a["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(o["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(t){(t.keyCode===l["u"].left&&this.isActive||t.keyCode===l["u"].right&&!this.isActive)&&this.onChange()}}})},ec29:function(t,e,i){},fe09:function(t,e,i){"use strict";var n=i("c37a"),r=i("5607"),s=i("2b0e"),a=s["a"].extend({name:"rippleable",directives:{ripple:r["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),t.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",t)):null},onChange(){}}}),o=i("8547"),l=i("58df");e["a"]=Object(l["a"])(n["a"],a,o["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some(e=>this.valueComparator(e,t)):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.disabled||this.validationState?this.validationState:"primary"}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=n["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:t=>{t.preventDefault(),this.onChange()}},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur(){this.isFocused=!1},onChange(){if(this.isDisabled)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const i=e.length;e=e.filter(e=>!this.valueComparator(e,t)),e.length===i&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(){this.isFocused=!0},onKeydown(t){}}})}}]);